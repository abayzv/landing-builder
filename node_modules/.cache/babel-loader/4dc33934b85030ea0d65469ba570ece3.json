{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/builder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/var/www/builder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from \"axios\";\n\nvar state = function state() {\n  return {\n    user: {}\n  };\n};\n\nvar mutations = {\n  _user: function _user(state, payload) {\n    state.user = payload;\n  }\n};\nvar actions = {\n  fetchUser: fetchUser\n};\nexport default {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  actions: actions\n};\n\nfunction fetchUser(_ref) {\n  var commit = _ref.commit,\n      state = _ref.state;\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve, reject) {\n      var config, response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              config = {\n                headers: {\n                  'Authorization': 'Bearer ' + localStorage.getItem('access_token')\n                }\n              };\n              _context.next = 4;\n              return axios.get('http://localhost:8080/me', config);\n\n            case 4:\n              response = _context.sent;\n              commit('_user', response.data);\n              resolve(response.data);\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n              reject(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n}","map":{"version":3,"names":["axios","state","user","mutations","_user","payload","actions","fetchUser","namespaced","commit","Promise","resolve","reject","config","headers","localStorage","getItem","get","response","data","console","error"],"sources":["/var/www/builder/src/store/user.store.js"],"sourcesContent":["import axios from \"axios\"\n\nconst state = () => ({\n    user : {}\n  })\n  \n  const mutations = {\n    _user(state, payload) {\n      state.user = payload\n    }\n  }\n  \n  const actions = {\n    fetchUser\n  }\n  \n  export default {\n    namespaced: true,\n    state,\n    mutations,\n    actions\n  }\n  \n  function fetchUser({ commit, state }) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        let config = {\n          headers: {\n            'Authorization': 'Bearer ' + localStorage.getItem('access_token')\n          }\n        }\n        let response = await axios.get('http://localhost:8080/me', config)\n        commit('_user', response.data)\n        resolve(response.data)\n      } catch (e) {\n        console.error(e)\n        reject(e)\n      }\n    })\n  }"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ;EAAA,OAAO;IACjBC,IAAI,EAAG;EADU,CAAP;AAAA,CAAd;;AAIE,IAAMC,SAAS,GAAG;EAChBC,KADgB,iBACVH,KADU,EACHI,OADG,EACM;IACpBJ,KAAK,CAACC,IAAN,GAAaG,OAAb;EACD;AAHe,CAAlB;AAMA,IAAMC,OAAO,GAAG;EACdC,SAAS,EAATA;AADc,CAAhB;AAIA,eAAe;EACbC,UAAU,EAAE,IADC;EAEbP,KAAK,EAALA,KAFa;EAGbE,SAAS,EAATA,SAHa;EAIbG,OAAO,EAAPA;AAJa,CAAf;;AAOA,SAASC,SAAT,OAAsC;EAAA,IAAjBE,MAAiB,QAAjBA,MAAiB;EAAA,IAATR,KAAS,QAATA,KAAS;EACpC,OAAO,IAAIS,OAAJ;IAAA,uEAAY,iBAAOC,OAAP,EAAgBC,MAAhB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAEXC,MAFW,GAEF;gBACXC,OAAO,EAAE;kBACP,iBAAiB,YAAYC,YAAY,CAACC,OAAb,CAAqB,cAArB;gBADtB;cADE,CAFE;cAAA;cAAA,OAOMhB,KAAK,CAACiB,GAAN,CAAU,0BAAV,EAAsCJ,MAAtC,CAPN;;YAAA;cAOXK,QAPW;cAQfT,MAAM,CAAC,OAAD,EAAUS,QAAQ,CAACC,IAAnB,CAAN;cACAR,OAAO,CAACO,QAAQ,CAACC,IAAV,CAAP;cATe;cAAA;;YAAA;cAAA;cAAA;cAWfC,OAAO,CAACC,KAAR;cACAT,MAAM,aAAN;;YAZe;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAZ;;IAAA;MAAA;IAAA;EAAA,IAAP;AAeD"},"metadata":{},"sourceType":"module"}